# QuickPoll 기능 요약

## 🎯 주요 기능

### 1. 투표 생성
- **질문과 선택지 설정**: 최대 10개 선택지 지원
- **마감 기한 설정**: 기본 7일 또는 사용자 지정 (일/시간 단위)
- **복수 선택 허용**: 단일 선택 또는 복수 선택 모드
- **익명/기명 투표**: 익명 투표 또는 이름 표시 선택 가능
- **실시간 미리보기**: 설정한 옵션 즉시 확인

### 2. 투표 참여
- **QR 코드 공유**: 투표 페이지에 QR 코드 상시 표시
- **중복 투표 방지**: localStorage 기반 투표자 ID로 중복 방지
- **실시간 투표 현황**: 참여자 수, 남은 시간 표시
- **조건부 이름 입력**: 기명 투표 시 이름 필수 입력
- **데이터 삭제 안내**: 자동 삭제 예정일 명시

### 3. 결과 확인
- **실시간 업데이트**: 투표 결과 자동 갱신
- **차트 시각화**: Chart.js를 이용한 막대 그래프
- **투표자 명단**: 기명 투표 시 투표자와 선택 항목 표시
- **QR 코드 모달**: 공유 버튼 클릭 시 QR 코드 팝업
- **데이터 보관 안내**: 삭제 예정일 알림

### 4. 관리자 기능 (`/admin`)
- **비밀번호 보호**: 관리자 비밀번호 인증 (quickpoll2025)
- **통계 대시보드**:
  - 만료된 투표 수
  - 삭제 대상 투표 수
  - 삭제 예정 투표 데이터 수
- **수동 정리**: "지금 정리하기" 버튼으로 즉시 실행
- **삭제 예정 목록**: 삭제 대상 투표 상세 정보
- **세션 기반 인증**: 로그인 상태 유지

### 5. 데이터베이스 정리
- **자동 정리**: 매일 UTC 오전 2시 자동 실행
- **정리 정책**: 만료 후 7일 경과 시 자동 삭제
- **CASCADE 삭제**: 투표와 관련 데이터 일괄 삭제
- **pg_cron 스케줄러**: PostgreSQL 확장 기능 활용

## 🔒 보안 기능
- **Row Level Security (RLS)**: 데이터베이스 수준 보안
- **중복 투표 방지**: 투표자 ID 기반 제한
- **관리자 인증**: 비밀번호 보호된 관리 페이지
- **데이터 자동 정리**: 개인정보 보호를 위한 자동 삭제

## 📱 사용자 경험
- **반응형 디자인**: 모바일/데스크톱 최적화
- **QR 코드 지원**: 모바일 접근성 향상
- **실시간 업데이트**: Supabase Realtime 활용
- **직관적 UI**: Tailwind CSS 기반 깔끔한 디자인

## 🛠️ 기술 스택
- **Frontend**: React 19, TypeScript, Vite
- **Styling**: Tailwind CSS v4
- **Database**: Supabase (PostgreSQL)
- **Charts**: Chart.js
- **QR Code**: qrcode.react
- **Routing**: React Router v7

## 📋 URL 구조
- `/` - 투표 생성 페이지
- `/poll/:id` - 투표 참여 페이지
- `/poll/:id/results` - 결과 확인 페이지
- `/admin` - 관리자 페이지 (비밀번호: quickpoll2025)

## ⚠️ 데이터 보관 정책
- 투표 만료일 + 7일 후 자동 삭제
- 삭제 예정일이 모든 페이지에 표시됨
- 관리자가 수동으로 조기 삭제 가능

## 🚀 배포 준비사항
1. 환경 변수 설정 (VITE_SUPABASE_URL, VITE_SUPABASE_ANON_KEY)
2. 관리자 비밀번호 변경 (프로덕션 환경)
3. Supabase 프로젝트 설정
4. pg_cron 확장 활성화